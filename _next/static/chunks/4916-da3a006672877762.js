"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4916],{10059:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{iw:function(){return o.iw}});var i=n(47621),o=n(42200),_=e([i]);i=(_.then?(await _)():_)[0],(0,o.oT)(i),r()}catch(e){r(e)}})},42200:function(e,t,n){let r;function i(e){r=e}n.d(t,{Or:function(){return L},XP:function(){return O},hd:function(){return $},iw:function(){return v},oT:function(){return i},qt:function(){return z},sB:function(){return E},ug:function(){return j},zV:function(){return S}}),e=n.hmd(e);let o=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let _=null;function l(){return(null===_||0===_.byteLength)&&(_=new Uint8Array(r.memory.buffer)),_}function u(e,t){return e>>>=0,o.decode(l().subarray(e,e+t))}let f=Array(128).fill(void 0);f.push(void 0,null,!0,!1);let a=f.length;function d(e){a===f.length&&f.push(f.length+1);let t=a;return a=f[t],f[t]=e,t}function s(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_export_0(d(e))}}function g(e){let t=f[e];return e<132||(f[e]=a,a=e),t}let c=0,p=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8"),h="function"==typeof p.encodeInto?function(e,t){return p.encodeInto(e,t)}:function(e,t){let n=p.encode(e);return t.set(n),{read:e.length,written:n.length}};function b(e,t,n){if(void 0===n){let n=p.encode(e),r=t(n.length,1)>>>0;return l().subarray(r,r+n.length).set(n),c=n.length,r}let r=e.length,i=t(r,1)>>>0,o=l(),_=0;for(;_<r;_++){let t=e.charCodeAt(_);if(t>127)break;o[i+_]=t}if(_!==r){0!==_&&(e=e.slice(_)),i=n(i,r,r=_+3*e.length,1)>>>0;let t=h(e,l().subarray(i+_,i+r));_+=t.written,i=n(i,r,_,1)>>>0}return c=_,i}let y=null;function w(){return(null===y||!0===y.buffer.detached||void 0===y.buffer.detached&&y.buffer!==r.memory.buffer)&&(y=new DataView(r.memory.buffer)),y}let k=null;function m(){return(null===k||0===k.byteLength)&&(k=new Uint32Array(r.memory.buffer)),k}function I(e,t){return e>>>=0,m().subarray(e/4,e/4+t)}function M(e,t){return e>>>=0,l().subarray(e/1,e/1+t)}function v(e,t){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");try{let o=r.__wbindgen_add_to_stack_pointer(-16),_=b(e,r.__wbindgen_export_1,r.__wbindgen_export_2),l=c;r.get_encoding(o,_,l,d(t));var n=w().getInt32(o+0,!0),i=w().getInt32(o+4,!0);if(w().getInt32(o+8,!0))throw g(i);return A.__wrap(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}let x="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_tiktoken_free(e>>>0,1));class A{static __wrap(e){e>>>=0;let t=Object.create(A.prototype);return t.__wbg_ptr=e,x.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,x.unregister(this),e}free(){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");let e=this.__destroy_into_raw();r.__wbg_tiktoken_free(e,0)}constructor(e,t,n){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");let i=b(e,r.__wbindgen_export_1,r.__wbindgen_export_2),o=c,_=b(n,r.__wbindgen_export_1,r.__wbindgen_export_2),l=c,u=r.tiktoken_new(i,o,d(t),_,l);return this.__wbg_ptr=u>>>0,x.register(this,this.__wbg_ptr,this),this}get name(){try{let n;let i=r.__wbindgen_add_to_stack_pointer(-16);r.tiktoken_name(i,this.__wbg_ptr);var e=w().getInt32(i+0,!0),t=w().getInt32(i+4,!0);return 0!==e&&(n=u(e,t).slice(),r.__wbindgen_export_3(e,1*t,1)),n}finally{r.__wbindgen_add_to_stack_pointer(16)}}encode(e,t,n){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");try{let u=r.__wbindgen_add_to_stack_pointer(-16),f=b(e,r.__wbindgen_export_1,r.__wbindgen_export_2),a=c;r.tiktoken_encode(u,this.__wbg_ptr,f,a,d(t),d(n));var i=w().getInt32(u+0,!0),o=w().getInt32(u+4,!0),_=w().getInt32(u+8,!0);if(w().getInt32(u+12,!0))throw g(_);var l=I(i,o).slice();return r.__wbindgen_export_3(i,4*o,4),l}finally{r.__wbindgen_add_to_stack_pointer(16)}}encode_ordinary(e){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");try{let o=r.__wbindgen_add_to_stack_pointer(-16),_=b(e,r.__wbindgen_export_1,r.__wbindgen_export_2),l=c;r.tiktoken_encode_ordinary(o,this.__wbg_ptr,_,l);var t=w().getInt32(o+0,!0),n=w().getInt32(o+4,!0),i=I(t,n).slice();return r.__wbindgen_export_3(t,4*n,4),i}finally{r.__wbindgen_add_to_stack_pointer(16)}}encode_with_unstable(e,t,n){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");try{let _=r.__wbindgen_add_to_stack_pointer(-16),l=b(e,r.__wbindgen_export_1,r.__wbindgen_export_2),u=c;r.tiktoken_encode_with_unstable(_,this.__wbg_ptr,l,u,d(t),d(n));var i=w().getInt32(_+0,!0),o=w().getInt32(_+4,!0);if(w().getInt32(_+8,!0))throw g(o);return g(i)}finally{r.__wbindgen_add_to_stack_pointer(16)}}encode_single_token(e){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");let t=function(e,t){let n=t(1*e.length,1)>>>0;return l().set(e,n/1),c=e.length,n}(e,r.__wbindgen_export_1),n=c;return r.tiktoken_encode_single_token(this.__wbg_ptr,t,n)>>>0}decode(e){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");try{let o=r.__wbindgen_add_to_stack_pointer(-16),_=function(e,t){let n=t(4*e.length,4)>>>0;return m().set(e,n/4),c=e.length,n}(e,r.__wbindgen_export_1),l=c;r.tiktoken_decode(o,this.__wbg_ptr,_,l);var t=w().getInt32(o+0,!0),n=w().getInt32(o+4,!0),i=M(t,n).slice();return r.__wbindgen_export_3(t,1*n,1),i}finally{r.__wbindgen_add_to_stack_pointer(16)}}decode_single_token_bytes(e){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.tiktoken_decode_single_token_bytes(o,this.__wbg_ptr,e);var t=w().getInt32(o+0,!0),n=w().getInt32(o+4,!0),i=M(t,n).slice();return r.__wbindgen_export_3(t,1*n,1),i}finally{r.__wbindgen_add_to_stack_pointer(16)}}token_byte_values(){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");return g(r.tiktoken_token_byte_values(this.__wbg_ptr))}}function S(){return s(function(e,t){return d(JSON.parse(u(e,t)))},arguments)}function E(){return s(function(e){return d(JSON.stringify(f[e]))},arguments)}function $(e,t){return d(Error(u(e,t)))}function O(e){return void 0===f[e]}function j(e){g(e)}function z(e,t){if(null==r)throw Error("tiktoken: WASM binary has not been propery initialized.");let n=f[t],i="string"==typeof n?n:void 0;var o=null==i?0:b(i,r.__wbindgen_export_1,r.__wbindgen_export_2),_=c;w().setInt32(e+4,_,!0),w().setInt32(e+0,o,!0)}function L(e,t){throw Error(u(e,t))}},87134:function(e,t,n){n.d(t,{cv:function(){return I}});let r="null";function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\\\"').replace(/\n/g,`\\n`).replace(/\r/g,`\\r`).replace(/\t/g,"\\	")}function o(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function _(e){return Array.isArray(e)}function l(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function u(e){return e.every(e=>o(e))}function f(e){return e.every(e=>l(e))}function a(e,t){return null===e?r:"boolean"==typeof e||"number"==typeof e?String(e):function(e,t=","){return!function(e,t=","){return!!e&&e===e.trim()&&!("true"===e||"false"===e||e===r||/^-?\d+(?:\.\d+)?(?:e[+-]?\d+)?$/i.test(e)||/^0\d+$/.test(e)||e.includes(":")||e.includes('"')||e.includes("\\")||/[[\]{}]/.test(e)||/[\n\r\t]/.test(e)||e.includes(t)||e.startsWith("-"))}(e,t)?`"${i(e)}"`:e}(e,t)}function d(e){return/^[A-Z_][\w.]*$/i.test(e)?e:`"${i(e)}"`}function s(e,t=","){return e.map(e=>a(e,t)).join(t)}function g(e,t){let n=t?.key,r=t?.fields,i=t?.delimiter??",",o=t?.lengthMarker??!1,_="";if(n&&(_+=d(n)),_+=`[${o||""}${e}${","!==i?i:""}]`,r){let e=r.map(e=>d(e));_+=`{${e.join(i)}}`}return _+":"}var c=class{lines=[];indentationString;constructor(e){this.indentationString=" ".repeat(e)}push(e,t){let n=this.indentationString.repeat(e);this.lines.push(n+t)}pushListItem(e,t){this.push(e,`- ${t}`)}toString(){return this.lines.join("\n")}};function p(e,t,n,r){for(let i of Object.keys(e))h(i,e[i],t,n,r)}function h(e,t,n,r,i){let u=d(e);o(t)?n.push(r,`${u}: ${a(t,i.delimiter)}`):_(t)?b(e,t,n,r,i):l(t)&&(0===Object.keys(t).length?n.push(r,`${u}:`):(n.push(r,`${u}:`),p(t,n,r+1,i)))}function b(e,t,n,r,i){if(0===t.length){let t=g(0,{key:e,delimiter:i.delimiter,lengthMarker:i.lengthMarker});n.push(r,t);return}if(u(t)){let o=y(t,i.delimiter,e,i.lengthMarker);n.push(r,o);return}if(t.every(e=>_(e))&&t.every(e=>u(e))){!function(e,t,n,r,i){let o=g(t.length,{key:e,delimiter:i.delimiter,lengthMarker:i.lengthMarker});for(let e of(n.push(r,o),t))if(u(e)){let t=y(e,i.delimiter,void 0,i.lengthMarker);n.pushListItem(r+1,t)}}(e,t,n,r,i);return}if(f(t)){let o=w(t);o?function(e,t,n,r,i,o){let _=g(t.length,{key:e,fields:n,delimiter:o.delimiter,lengthMarker:o.lengthMarker});r.push(i,`${_}`),k(t,n,r,i+1,o)}(e,t,o,n,r,i):m(e,t,n,r,i);return}m(e,t,n,r,i)}function y(e,t,n,r){let i=g(e.length,{key:n,delimiter:t,lengthMarker:r}),o=s(e,t);return 0===e.length?i:`${i} ${o}`}function w(e){if(0===e.length)return;let t=Object.keys(e[0]);if(0!==t.length&&function(e,t){for(let n of e){if(Object.keys(n).length!==t.length)return!1;for(let e of t)if(!(e in n)||!o(n[e]))return!1}return!0}(e,t))return t}function k(e,t,n,r,i){for(let o of e){let e=s(t.map(e=>o[e]),i.delimiter);n.push(r,e)}}function m(e,t,n,r,i){let s=g(t.length,{key:e,delimiter:i.delimiter,lengthMarker:i.lengthMarker});for(let e of(n.push(r,s),t))!function e(t,n,r,i){if(o(t))n.pushListItem(r,a(t,i.delimiter));else if(_(t)&&u(t)){let e=y(t,i.delimiter,void 0,i.lengthMarker);n.pushListItem(r,e)}else l(t)&&function t(n,r,i,s){let c=Object.keys(n);if(0===c.length){r.push(i,"-");return}let b=c[0],m=d(b),I=n[b];if(o(I))r.pushListItem(i,`${m}: ${a(I,s.delimiter)}`);else if(_(I)){if(u(I)){let e=y(I,s.delimiter,b,s.lengthMarker);r.pushListItem(i,e)}else if(f(I)){let e=w(I);if(e){let t=g(I.length,{key:b,fields:e,delimiter:s.delimiter,lengthMarker:s.lengthMarker});r.pushListItem(i,t),k(I,e,r,i+1,s)}else for(let e of(r.pushListItem(i,`${m}[${I.length}]:`),I))t(e,r,i+1,s)}else for(let t of(r.pushListItem(i,`${m}[${I.length}]:`),I))e(t,r,i+1,s)}else l(I)&&(0===Object.keys(I).length?r.pushListItem(i,`${m}:`):(r.pushListItem(i,`${m}:`),p(I,r,i+2,s)));for(let e=1;e<c.length;e++){let t=c[e];h(t,n[t],r,i+1,s)}}(t,n,r,i)}(e,n,r+1,i)}function I(e,t){return function(e,t){if(o(e))return a(e,t.delimiter);let n=new c(t.indent);return _(e)?b(void 0,e,n,0,t):l(e)&&p(e,n,0,t),n.toString()}(function e(t){if(null===t)return null;if("string"==typeof t||"boolean"==typeof t)return t;if("number"==typeof t)return Object.is(t,-0)?0:Number.isFinite(t)?t:null;if("bigint"==typeof t)return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t.toString();if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e);if(t instanceof Set)return Array.from(t).map(e);if(t instanceof Map)return Object.fromEntries(Array.from(t,([t,n])=>[String(t),e(n)]));if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}(t)){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(t[r]));return n}return null}(e),{indent:t?.indent??2,delimiter:t?.delimiter??",",lengthMarker:t?.lengthMarker??!1})}},47621:function(e,t,n){var r=n(42200);e.exports=n.v(t,e.id,"0fd0e65bc9249f2a",{"./tiktoken_bg.js":{__wbindgen_object_drop_ref:r.ug,__wbindgen_is_undefined:r.XP,__wbg_stringify_f7ed6987935b4a24:r.sB,__wbindgen_string_get:r.qt,__wbindgen_error_new:r.hd,__wbg_parse_def2e24ef1252aff:r.zV,__wbindgen_throw:r.Or}})}}]);