"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6367],{62544:function(e,t,n){e.exports=n.p+"static/media/pglite.4a4cf338.data"},65490:function(e,t,n){e.exports=n.p+"static/media/pglite.2756bcc6.wasm"},97364:function(e,t,n){e.exports=n.p+"static/media/vector.tar.80b54ce0.gz"},27965:function(e,t,n){n.d(t,{$1:function(){return s}});var i=n(67294),a=n(85893);function s(){let e=(0,i.createContext)(void 0);return{usePGlite:t=>{let n=(0,i.useContext)(e);if(void 0!==t)return t;if(!n)throw Error("No PGlite instance found, use PGliteProvider to provide one");return n},PGliteProvider:({children:t,db:n})=>(0,a.jsx)(e.Provider,{value:n,children:t})}}n(2603),n(19e3);var{PGliteProvider:o,usePGlite:l}=s()},19e3:function(e,t,n){n.d(t,{a:function(){return p},b:function(){return y},c:function(){return w},d:function(){return E},e:function(){return g},f:function(){return T},g:function(){return b},h:function(){return S},i:function(){return A},j:function(){return v}});var i,a,s=Object.create,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,f=e=>{throw TypeError(e)},d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),y=(e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})},m=(e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of c(t))h.call(e,a)||a===n||o(e,a,{get:()=>t[a],enumerable:!(i=l(t,a))||i.enumerable});return e},w=(e,t,n)=>(n=null!=e?s(u(e)):{},m(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),E=(e,t,n)=>d(e,"symbol"!=typeof t?t+"":t,n),_=(e,t,n)=>t.has(e)||f("Cannot "+n),g=(e,t,n)=>(_(e,t,"read from private field"),n?n.call(e):t.get(e)),T=(e,t,n)=>t.has(e)?f("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),b=(e,t,n,i)=>(_(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),S=(e,t,n)=>(_(e,t,"access private method"),n),A=(e,t,n,i)=>({set _(r){b(e,t,r,n)},get _(){return g(e,t,i)}}),v=(i=()=>{},()=>(i&&(a=i(i=0)),a))},94732:function(e,t,n){n.d(t,{a:function(){return y}});var i=n(49962),a=n(2603),s=n(19e3);function o(e){let t=e.e;return t.query=e.query,t.params=e.params,t.queryOptions=e.options,t}(0,s.j)(),(0,s.j)();var l,c,u,h,f,d,p,y=class{constructor(){(0,s.f)(this,u),this.serializers={...i.b},this.parsers={...i.a},(0,s.f)(this,l,!1),(0,s.f)(this,c,!1)}async _initArrayTypes({force:e=!1}={}){if(!(0,s.e)(this,l)||e)for(let e of((0,s.g)(this,l,!0),(await this.query(`
      SELECT b.oid, b.typarray
      FROM pg_catalog.pg_type a
      LEFT JOIN pg_catalog.pg_type b ON b.oid = a.typelem
      WHERE a.typcategory = 'A'
      GROUP BY b.oid, b.typarray
      ORDER BY b.oid
    `)).rows))this.serializers[e.typarray]=t=>(0,i.c)(t,this.serializers[e.oid],e.typarray),this.parsers[e.typarray]=t=>(0,i.d)(t,this.parsers[e.oid],e.typarray)}async refreshArrayTypes(){await this._initArrayTypes({force:!0})}async query(e,t,n){return await this._checkReady(),await this._runExclusiveTransaction(async()=>await (0,s.h)(this,u,f).call(this,e,t,n))}async sql(e,...t){let{query:n,params:i}=(0,a.d)(e,...t);return await this.query(n,i)}async exec(e,t){return await this._checkReady(),await this._runExclusiveTransaction(async()=>await (0,s.h)(this,u,d).call(this,e,t))}async describeQuery(e,t){try{await (0,s.h)(this,u,h).call(this,i.i.parse({text:e,types:t?.paramTypes}),t);let n=await (0,s.h)(this,u,h).call(this,i.i.describe({type:"S"}),t),a=n.messages.find(e=>"parameterDescription"===e.name),o=n.messages.find(e=>"rowDescription"===e.name),l=a?.dataTypeIDs.map(e=>({dataTypeID:e,serializer:this.serializers[e]}))??[],c=o?.fields.map(e=>({name:e.name,dataTypeID:e.dataTypeID,parser:this.parsers[e.dataTypeID]}))??[];return{queryParams:l,resultFields:c}}catch(n){throw n instanceof i.j?o({e:n,options:t,params:void 0,query:e}):n}finally{await (0,s.h)(this,u,h).call(this,i.i.sync(),t)}}async transaction(e){return await this._checkReady(),await this._runExclusiveTransaction(async()=>{await (0,s.h)(this,u,d).call(this,"BEGIN"),(0,s.g)(this,c,!0);let t=!1,n=()=>{if(t)throw Error("Transaction is closed")},i={query:async(e,t,i)=>(n(),await (0,s.h)(this,u,f).call(this,e,t,i)),sql:async(e,...t)=>{let{query:n,params:i}=(0,a.d)(e,...t);return await (0,s.h)(this,u,f).call(this,n,i)},exec:async(e,t)=>(n(),await (0,s.h)(this,u,d).call(this,e,t)),rollback:async()=>{n(),await (0,s.h)(this,u,d).call(this,"ROLLBACK"),t=!0},listen:async(e,t)=>(n(),await this.listen(e,t,i)),get closed(){return t}};try{let n=await e(i);return t||(t=!0,await (0,s.h)(this,u,d).call(this,"COMMIT")),(0,s.g)(this,c,!1),n}catch(e){throw t||await (0,s.h)(this,u,d).call(this,"ROLLBACK"),(0,s.g)(this,c,!1),e}})}async runExclusive(e){return await this._runExclusiveQuery(e)}};l=new WeakMap,c=new WeakMap,u=new WeakSet,h=async function(e,t={}){return await this.execProtocol(e,{...t,syncToFs:!1})},f=async function(e,t=[],n){return await this._runExclusiveQuery(async()=>{let a;(0,s.h)(this,u,p).call(this,"runQuery",e,t,n),await this._handleBlob(n?.blob);try{let{messages:o}=await (0,s.h)(this,u,h).call(this,i.i.parse({text:e,types:n?.paramTypes}),n),l=(0,i.g)((await (0,s.h)(this,u,h).call(this,i.i.describe({type:"S"}),n)).messages),c=t.map((e,t)=>{let i=l[t];if(null==e)return null;let a=n?.serializers?.[i]??this.serializers[i];return a?a(e):e.toString()});a=[...o,...(await (0,s.h)(this,u,h).call(this,i.i.bind({values:c}),n)).messages,...(await (0,s.h)(this,u,h).call(this,i.i.describe({type:"P"}),n)).messages,...(await (0,s.h)(this,u,h).call(this,i.i.execute({}),n)).messages]}catch(a){throw a instanceof i.j?o({e:a,options:n,params:t,query:e}):a}finally{await (0,s.h)(this,u,h).call(this,i.i.sync(),n)}await this._cleanupBlob(),(0,s.e)(this,c)||await this.syncToFs();let l=await this._getWrittenBlob();return(0,i.f)(a,this.parsers,n,l)[0]})},d=async function(e,t){return await this._runExclusiveQuery(async()=>{let n;(0,s.h)(this,u,p).call(this,"runExec",e,t),await this._handleBlob(t?.blob);try{n=(await (0,s.h)(this,u,h).call(this,i.i.query(e),t)).messages}catch(n){throw n instanceof i.j?o({e:n,options:t,params:void 0,query:e}):n}finally{await (0,s.h)(this,u,h).call(this,i.i.sync(),t)}this._cleanupBlob(),(0,s.e)(this,c)||await this.syncToFs();let a=await this._getWrittenBlob();return(0,i.f)(n,this.parsers,t,a)})},p=function(...e){this.debug>0&&console.log(...e)}},49962:function(e,t,n){n.d(t,{a:function(){return ew},b:function(){return eE},c:function(){return eb},d:function(){return eA},f:function(){return ev},g:function(){return eI},i:function(){return ty},j:function(){return ez},k:function(){return eJ},l:function(){return eQ},m:function(){return e0},o:function(){return tV},q:function(){return tX},r:function(){return tJ},s:function(){return tK},t:function(){return tQ},u:function(){return tZ},v:function(){return t0},w:function(){return t1},x:function(){return t2}});var i,a=n(19e3),s=n(83454);(0,a.b)({},{ABSTIME:()=>N,ACLITEM:()=>x,BIT:()=>V,BOOL:()=>c,BPCHAR:()=>k,BYTEA:()=>u,CHAR:()=>h,CID:()=>g,CIDR:()=>R,CIRCLE:()=>P,DATE:()=>j,FLOAT4:()=>C,FLOAT8:()=>O,GTSVECTOR:()=>ec,INET:()=>F,INT2:()=>d,INT4:()=>p,INT8:()=>f,INTERVAL:()=>B,JSON:()=>T,JSONB:()=>ef,MACADDR:()=>$,MACADDR8:()=>M,MONEY:()=>U,NUMERIC:()=>X,OID:()=>w,PATH:()=>v,PG_DEPENDENCIES:()=>es,PG_LSN:()=>ei,PG_NDISTINCT:()=>ea,PG_NODE_TREE:()=>S,POLYGON:()=>I,REFCURSOR:()=>J,REGCLASS:()=>ee,REGCONFIG:()=>eu,REGDICTIONARY:()=>eh,REGNAMESPACE:()=>ed,REGOPER:()=>Q,REGOPERATOR:()=>Z,REGPROC:()=>y,REGPROCEDURE:()=>K,REGROLE:()=>ep,REGTYPE:()=>et,RELTIME:()=>L,SMGR:()=>A,TEXT:()=>m,TID:()=>E,TIME:()=>z,TIMESTAMP:()=>G,TIMESTAMPTZ:()=>W,TIMETZ:()=>H,TINTERVAL:()=>D,TSQUERY:()=>el,TSVECTOR:()=>eo,TXID_SNAPSHOT:()=>en,UUID:()=>er,VARBIT:()=>Y,VARCHAR:()=>q,XID:()=>_,XML:()=>b,arrayParser:()=>eA,arraySerializer:()=>eb,parseType:()=>e_,parsers:()=>ew,serializers:()=>eE,types:()=>ey}),(0,a.j)();var o=globalThis.JSON.parse,l=globalThis.JSON.stringify,c=16,u=17,h=18,f=20,d=21,p=23,y=24,m=25,w=26,E=27,_=28,g=29,T=114,b=142,S=194,A=210,v=602,I=604,R=650,C=700,O=701,N=702,L=703,D=704,P=718,M=774,U=790,$=829,F=869,x=1033,k=1042,q=1043,j=1082,z=1083,G=1114,W=1184,B=1186,H=1266,V=1560,Y=1562,X=1700,J=1790,K=2202,Q=2203,Z=2204,ee=2205,et=2206,er=2950,en=2970,ei=3220,ea=3361,es=3402,eo=3614,el=3615,ec=3642,eu=3734,eh=3769,ef=3802,ed=4089,ep=4096,ey={string:{to:25,from:[25,1043,1042],serialize:e=>{if("string"==typeof e)return e;if("number"==typeof e)return e.toString();throw Error("Invalid input for string type")},parse:e=>e},number:{to:0,from:[21,23,26,700,701],serialize:e=>e.toString(),parse:e=>+e},bigint:{to:20,from:[20],serialize:e=>e.toString(),parse:e=>{let t=BigInt(e);return t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER?t:Number(t)}},json:{to:114,from:[114,3802],serialize:e=>"string"==typeof e?e:l(e),parse:e=>o(e)},boolean:{to:16,from:[16],serialize:e=>{if("boolean"!=typeof e)throw Error("Invalid input for boolean type");return e?"t":"f"},parse:e=>"t"===e},date:{to:1184,from:[1082,1114,1184],serialize:e=>{if("string"==typeof e)return e;if("number"==typeof e)return new Date(e).toISOString();if(e instanceof Date)return e.toISOString();throw Error("Invalid input for date type")},parse:e=>new Date(e)},bytea:{to:17,from:[17],serialize:e=>{if(!(e instanceof Uint8Array))throw Error("Invalid input for bytea type");return"\\x"+Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")},parse:e=>{let t=e.slice(2);return Uint8Array.from({length:t.length/2},(e,n)=>parseInt(t.substring(2*n,(n+1)*2),16))}}},em=Object.keys(ey).reduce(({parsers:e,serializers:t},n)=>{let{to:i,from:a,serialize:s,parse:o}=ey[n];return t[i]=s,t[n]=s,e[n]=o,Array.isArray(a)?a.forEach(n=>{e[n]=o,t[n]=s}):(e[a]=o,t[a]=s),{parsers:e,serializers:t}},{parsers:{},serializers:{}}),ew=em.parsers,eE=em.serializers;function e_(e,t,n){if(null===e)return null;let i=n?.[t]??em.parsers[t];return i?i(e,t):e}var eg=/\\/g,eT=/"/g;function eb(e,t,n){if(!1===Array.isArray(e))return e;if(!e.length)return"{}";let i=e[0],a=1020===n?";":",";return Array.isArray(i)?`{${e.map(e=>eb(e,t,n)).join(a)}}`:`{${e.map(e=>(void 0===e&&(e=null),null===e?"null":'"'+(t?t(e):e.toString()).replace(eg,"\\\\").replace(eT,'\\"')+'"')).join(a)}}`}var eS={i:0,char:null,str:"",quoted:!1,last:0,p:null};function eA(e,t,n){return eS.i=eS.last=0,function e(t,n,i,a){let s=[],o=1020===a?";":",";for(;t.i<n.length;t.i++){if(t.char=n[t.i],t.quoted)"\\"===t.char?t.str+=n[++t.i]:'"'===t.char?(s.push(i?i(t.str):t.str),t.str="",t.quoted='"'===n[t.i+1],t.last=t.i+2):t.str+=t.char;else if('"'===t.char)t.quoted=!0;else if("{"===t.char)t.last=++t.i,s.push(e(t,n,i,a));else if("}"===t.char){t.quoted=!1,t.last<t.i&&s.push(i?i(n.slice(t.last,t.i)):n.slice(t.last,t.i)),t.last=t.i+1;break}else t.char===o&&"}"!==t.p&&'"'!==t.p&&(s.push(i?i(n.slice(t.last,t.i)):n.slice(t.last,t.i)),t.last=t.i+1);t.p=t.char}return t.last<t.i&&s.push(i?i(n.slice(t.last,t.i+1)):n.slice(t.last,t.i+1)),s}(eS,e,t,n)[0]}function ev(e,t,n,i){let a=[],s={rows:[],fields:[]},o=0,l={...t,...n?.parsers};return e.forEach(e=>{switch(e.name){case"rowDescription":s.fields=e.fields.map(e=>({name:e.name,dataTypeID:e.dataTypeID}));break;case"dataRow":if(!s)break;n?.rowMode==="array"?s.rows.push(e.fields.map((e,t)=>e_(e,s.fields[t].dataTypeID,l))):s.rows.push(Object.fromEntries(e.fields.map((e,t)=>[s.fields[t].name,e_(e,s.fields[t].dataTypeID,l)])));break;case"commandComplete":o+=function(e){let t=e.text.split(" ");switch(t[0]){case"INSERT":return parseInt(t[2],10);case"UPDATE":case"DELETE":case"COPY":case"MERGE":return parseInt(t[1],10);default:return 0}}(e),a.push({...s,affectedRows:o,...i?{blob:i}:{}}),s={rows:[],fields:[]}}}),0===a.length&&a.push({affectedRows:0,rows:[],fields:[]}),a}function eI(e){let t=e.find(e=>"parameterDescription"===e.name);return t?t.dataTypeIDs:[]}(0,a.b)({},{parseDescribeStatementResults:()=>eI,parseResults:()=>ev}),(0,a.j)();var eR={};(0,a.b)(eR,{AuthenticationCleartextPassword:()=>eF,AuthenticationMD5Password:()=>ex,AuthenticationOk:()=>e$,AuthenticationSASL:()=>ek,AuthenticationSASLContinue:()=>eq,AuthenticationSASLFinal:()=>ej,BackendKeyDataMessage:()=>eX,CommandCompleteMessage:()=>eQ,CopyDataMessage:()=>eG,CopyResponse:()=>eW,DataRowMessage:()=>eZ,DatabaseError:()=>ez,Field:()=>eB,NoticeMessage:()=>e0,NotificationResponseMessage:()=>eJ,ParameterDescriptionMessage:()=>eV,ParameterStatusMessage:()=>eY,ReadyForQueryMessage:()=>eK,RowDescriptionMessage:()=>eH,bindComplete:()=>eO,closeComplete:()=>eN,copyDone:()=>eU,emptyQuery:()=>eM,noData:()=>eL,parseComplete:()=>eC,portalSuspended:()=>eD,replicationStart:()=>eP}),(0,a.j)();var eC={name:"parseComplete",length:5},eO={name:"bindComplete",length:5},eN={name:"closeComplete",length:5},eL={name:"noData",length:5},eD={name:"portalSuspended",length:5},eP={name:"replicationStart",length:4},eM={name:"emptyQuery",length:4},eU={name:"copyDone",length:4},e$=class{constructor(e){this.length=e,this.name="authenticationOk"}},eF=class{constructor(e){this.length=e,this.name="authenticationCleartextPassword"}},ex=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}},ek=class{constructor(e,t){this.length=e,this.mechanisms=t,this.name="authenticationSASL"}},eq=class{constructor(e,t){this.length=e,this.data=t,this.name="authenticationSASLContinue"}},ej=class{constructor(e,t){this.length=e,this.data=t,this.name="authenticationSASLFinal"}},ez=class extends Error{constructor(e,t,n){super(e),this.length=t,this.name=n}},eG=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}},eW=class{constructor(e,t,n,i){this.length=e,this.name=t,this.binary=n,this.columnTypes=Array(i)}},eB=class{constructor(e,t,n,i,a,s,o){this.name=e,this.tableID=t,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=a,this.dataTypeModifier=s,this.format=o}},eH=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=Array(this.fieldCount)}},eV=class{constructor(e,t){this.length=e,this.parameterCount=t,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}},eY=class{constructor(e,t,n){this.length=e,this.parameterName=t,this.parameterValue=n,this.name="parameterStatus"}},eX=class{constructor(e,t,n){this.length=e,this.processID=t,this.secretKey=n,this.name="backendKeyData"}},eJ=class{constructor(e,t,n,i){this.length=e,this.processId=t,this.channel=n,this.payload=i,this.name="notification"}},eK=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}},eQ=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}},eZ=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}},e0=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};function e1(e){let t=e.length;for(let n=e.length-1;n>=0;n--){let i=e.charCodeAt(n);i>127&&i<=2047?t++:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&n--}return t}(0,a.b)({},{Parser:()=>tV,messages:()=>eR,serialize:()=>ty}),(0,a.j)(),(0,a.j)(),(0,a.j)(),(0,a.j)();var e2,e8,e3,e6,e4,e5,e9,e7,te,tt=class{constructor(e=256){this.size=e,(0,a.f)(this,e5),(0,a.f)(this,e2),(0,a.f)(this,e8,5),(0,a.f)(this,e3,!1),(0,a.f)(this,e6,new TextEncoder),(0,a.f)(this,e4,0),(0,a.g)(this,e2,(0,a.h)(this,e5,e9).call(this,e))}addInt32(e){return(0,a.h)(this,e5,e7).call(this,4),(0,a.e)(this,e2).setInt32((0,a.e)(this,e8),e,(0,a.e)(this,e3)),(0,a.g)(this,e8,(0,a.e)(this,e8)+4),this}addInt16(e){return(0,a.h)(this,e5,e7).call(this,2),(0,a.e)(this,e2).setInt16((0,a.e)(this,e8),e,(0,a.e)(this,e3)),(0,a.g)(this,e8,(0,a.e)(this,e8)+2),this}addCString(e){return e&&this.addString(e),(0,a.h)(this,e5,e7).call(this,1),(0,a.e)(this,e2).setUint8((0,a.e)(this,e8),0),(0,a.i)(this,e8)._++,this}addString(e=""){let t=e1(e);return(0,a.h)(this,e5,e7).call(this,t),(0,a.e)(this,e6).encodeInto(e,new Uint8Array((0,a.e)(this,e2).buffer,(0,a.e)(this,e8))),(0,a.g)(this,e8,(0,a.e)(this,e8)+t),this}add(e){return(0,a.h)(this,e5,e7).call(this,e.byteLength),new Uint8Array((0,a.e)(this,e2).buffer).set(new Uint8Array(e),(0,a.e)(this,e8)),(0,a.g)(this,e8,(0,a.e)(this,e8)+e.byteLength),this}flush(e){let t=(0,a.h)(this,e5,te).call(this,e);return(0,a.g)(this,e8,5),(0,a.g)(this,e2,(0,a.h)(this,e5,e9).call(this,this.size)),new Uint8Array(t)}};e2=new WeakMap,e8=new WeakMap,e3=new WeakMap,e6=new WeakMap,e4=new WeakMap,e5=new WeakSet,e9=function(e){return new DataView(new ArrayBuffer(e))},e7=function(e){if((0,a.e)(this,e2).byteLength-(0,a.e)(this,e8)<e){let t=(0,a.e)(this,e2).buffer,n=t.byteLength+(t.byteLength>>1)+e;(0,a.g)(this,e2,(0,a.h)(this,e5,e9).call(this,n)),new Uint8Array((0,a.e)(this,e2).buffer).set(new Uint8Array(t))}},te=function(e){if(e){(0,a.e)(this,e2).setUint8((0,a.e)(this,e4),e);let t=(0,a.e)(this,e8)-((0,a.e)(this,e4)+1);(0,a.e)(this,e2).setInt32((0,a.e)(this,e4)+1,t,(0,a.e)(this,e3))}return(0,a.e)(this,e2).buffer.slice(e?0:5,(0,a.e)(this,e8))};var tr=new tt,tn=[],ti=new tt,ta=(e,t)=>{for(let n=0;n<e.length;n++){let i=t?t(e[n],n):e[n];if(null===i)tr.addInt16(0),ti.addInt32(-1);else if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)){let e=ArrayBuffer.isView(i)?i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength):i;tr.addInt16(1),ti.addInt32(e.byteLength),ti.add(e)}else tr.addInt16(0),ti.addInt32(e1(i)),ti.addString(i)}},ts=new Uint8Array([69,0,0,0,9,0,0,0,0,0]),to=(e,t)=>{let n=new tt;return n.addCString(t),n.flush(e)},tl=tr.addCString("P").flush(68),tc=tr.addCString("S").flush(68),tu=e=>new Uint8Array([e,0,0,0,4]),th=tu(72),tf=tu(83),td=tu(88),tp=tu(99),ty={startup:e=>{for(let t of(tr.addInt16(3).addInt16(0),Object.keys(e)))tr.addCString(t).addCString(e[t]);tr.addCString("client_encoding").addCString("UTF8");let t=tr.addCString("").flush(),n=t.byteLength+4;return new tt().addInt32(n).add(t).flush()},password:e=>tr.addCString(e).flush(112),requestSsl:()=>{let e=new DataView(new ArrayBuffer(8));return e.setInt32(0,8,!1),e.setInt32(4,80877103,!1),new Uint8Array(e.buffer)},sendSASLInitialResponseMessage:(e,t)=>(tr.addCString(e).addInt32(e1(t)).addString(t),tr.flush(112)),sendSCRAMClientFinalMessage:e=>tr.addString(e).flush(112),query:e=>tr.addCString(e).flush(81),parse:e=>{let t=e.name??"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let n=tr.addCString(t).addCString(e.text).addInt16(e.types?.length??0);return e.types?.forEach(e=>n.addInt32(e)),tr.flush(80)},bind:(e={})=>{let t=e.portal??"",n=e.statement??"",i=e.binary??!1,a=e.values??tn,s=a.length;return tr.addCString(t).addCString(n),tr.addInt16(s),ta(a,e.valueMapper),tr.addInt16(s),tr.add(ti.flush()),tr.addInt16(i?1:0),tr.flush(66)},execute:e=>{if(!e||!e.portal&&!e.rows)return ts;let t=e.portal??"",n=e.rows??0,i=e1(t),a=4+i+1+4,s=new DataView(new ArrayBuffer(1+a));return s.setUint8(0,69),s.setInt32(1,a,!1),new TextEncoder().encodeInto(t,new Uint8Array(s.buffer,5)),s.setUint8(i+5,0),s.setUint32(s.byteLength-4,n,!1),new Uint8Array(s.buffer)},describe:e=>e.name?to(68,`${e.type}${e.name??""}`):"P"===e.type?tl:tc,close:e=>to(67,`${e.type}${e.name??""}`),flush:()=>th,sync:()=>tf,end:()=>td,copyData:e=>tr.add(e).flush(100),copyDone:()=>tp,copyFail:e=>to(102,e),cancel:(e,t)=>{let n=new DataView(new ArrayBuffer(16));return n.setInt32(0,16,!1),n.setInt16(4,1234,!1),n.setInt16(6,5678,!1),n.setInt32(8,e,!1),n.setInt32(12,t,!1),new Uint8Array(n.buffer)}};(0,a.j)(),(0,a.j)();var tm={text:0,binary:1};(0,a.j)();var tw,tE,t_,tg,tT,tb=new ArrayBuffer(0),tS=class{constructor(e=0){(0,a.f)(this,tw,new DataView(tb)),(0,a.f)(this,tE),(0,a.f)(this,t_,"utf-8"),(0,a.f)(this,tg,new TextDecoder((0,a.e)(this,t_))),(0,a.f)(this,tT,!1),(0,a.g)(this,tE,e)}setBuffer(e,t){(0,a.g)(this,tE,e),(0,a.g)(this,tw,new DataView(t))}int16(){let e=(0,a.e)(this,tw).getInt16((0,a.e)(this,tE),(0,a.e)(this,tT));return(0,a.g)(this,tE,(0,a.e)(this,tE)+2),e}byte(){let e=(0,a.e)(this,tw).getUint8((0,a.e)(this,tE));return(0,a.i)(this,tE)._++,e}int32(){let e=(0,a.e)(this,tw).getInt32((0,a.e)(this,tE),(0,a.e)(this,tT));return(0,a.g)(this,tE,(0,a.e)(this,tE)+4),e}string(e){return(0,a.e)(this,tg).decode(this.bytes(e))}cstring(){let e=(0,a.e)(this,tE),t=e;for(;0!==(0,a.e)(this,tw).getUint8(t++););let n=this.string(t-e-1);return(0,a.g)(this,tE,t),n}bytes(e){let t=(0,a.e)(this,tw).buffer.slice((0,a.e)(this,tE),(0,a.e)(this,tE)+e);return(0,a.g)(this,tE,(0,a.e)(this,tE)+e),new Uint8Array(t)}};tw=new WeakMap,tE=new WeakMap,t_=new WeakMap,tg=new WeakMap,tT=new WeakMap;var tA,tv,tI,tR,tC,tO,tN,tL,tD,tP,tM,tU,t$,tF,tx,tk,tq,tj,tz,tG,tW,tB,tH=new ArrayBuffer(0),tV=class{constructor(){(0,a.f)(this,tC),(0,a.f)(this,tA,new DataView(tH)),(0,a.f)(this,tv,0),(0,a.f)(this,tI,0),(0,a.f)(this,tR,new tS)}parse(e,t){(0,a.h)(this,tC,tO).call(this,ArrayBuffer.isView(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):e);let n=(0,a.e)(this,tI)+(0,a.e)(this,tv),i=(0,a.e)(this,tI);for(;i+5<=n;){let e=(0,a.e)(this,tA).getUint8(i),s=(0,a.e)(this,tA).getUint32(i+1,!1),o=1+s;if(o+i<=n)t((0,a.h)(this,tC,tN).call(this,i+5,e,s,(0,a.e)(this,tA).buffer)),i+=o;else break}i===n?((0,a.g)(this,tA,new DataView(tH)),(0,a.g)(this,tv,0),(0,a.g)(this,tI,0)):((0,a.g)(this,tv,n-i),(0,a.g)(this,tI,i))}};tA=new WeakMap,tv=new WeakMap,tI=new WeakMap,tR=new WeakMap,tC=new WeakSet,tO=function(e){if((0,a.e)(this,tv)>0){let t=(0,a.e)(this,tv)+e.byteLength;if(t+(0,a.e)(this,tI)>(0,a.e)(this,tA).byteLength){let e;if(t<=(0,a.e)(this,tA).byteLength&&(0,a.e)(this,tI)>=(0,a.e)(this,tv))e=(0,a.e)(this,tA).buffer;else{let n=2*(0,a.e)(this,tA).byteLength;for(;t>=n;)n*=2;e=new ArrayBuffer(n)}new Uint8Array(e).set(new Uint8Array((0,a.e)(this,tA).buffer,(0,a.e)(this,tI),(0,a.e)(this,tv))),(0,a.g)(this,tA,new DataView(e)),(0,a.g)(this,tI,0)}new Uint8Array((0,a.e)(this,tA).buffer).set(new Uint8Array(e),(0,a.e)(this,tI)+(0,a.e)(this,tv)),(0,a.g)(this,tv,t)}else(0,a.g)(this,tA,new DataView(e)),(0,a.g)(this,tI,0),(0,a.g)(this,tv,e.byteLength)},tN=function(e,t,n,i){switch(t){case 50:return eO;case 49:return eC;case 51:return eN;case 110:return eL;case 115:return eD;case 99:return eU;case 87:return eP;case 73:return eM;case 68:return(0,a.h)(this,tC,tj).call(this,e,n,i);case 67:return(0,a.h)(this,tC,tD).call(this,e,n,i);case 90:return(0,a.h)(this,tC,tL).call(this,e,n,i);case 65:return(0,a.h)(this,tC,tF).call(this,e,n,i);case 82:return(0,a.h)(this,tC,tW).call(this,e,n,i);case 83:return(0,a.h)(this,tC,tz).call(this,e,n,i);case 75:return(0,a.h)(this,tC,tG).call(this,e,n,i);case 69:return(0,a.h)(this,tC,tB).call(this,e,n,i,"error");case 78:return(0,a.h)(this,tC,tB).call(this,e,n,i,"notice");case 84:return(0,a.h)(this,tC,tx).call(this,e,n,i);case 116:return(0,a.h)(this,tC,tq).call(this,e,n,i);case 71:return(0,a.h)(this,tC,tM).call(this,e,n,i);case 72:return(0,a.h)(this,tC,tU).call(this,e,n,i);case 100:return(0,a.h)(this,tC,tP).call(this,e,n,i);default:return new ez("received invalid response: "+t.toString(16),n,"error")}},tL=function(e,t,n){return(0,a.e)(this,tR).setBuffer(e,n),new eK(t,(0,a.e)(this,tR).string(1))},tD=function(e,t,n){return(0,a.e)(this,tR).setBuffer(e,n),new eQ(t,(0,a.e)(this,tR).cstring())},tP=function(e,t,n){let i=n.slice(e,e+(t-4));return new eG(t,new Uint8Array(i))},tM=function(e,t,n){return(0,a.h)(this,tC,t$).call(this,e,t,n,"copyInResponse")},tU=function(e,t,n){return(0,a.h)(this,tC,t$).call(this,e,t,n,"copyOutResponse")},t$=function(e,t,n,i){(0,a.e)(this,tR).setBuffer(e,n);let s=0!==(0,a.e)(this,tR).byte(),o=(0,a.e)(this,tR).int16(),l=new eW(t,i,s,o);for(let e=0;e<o;e++)l.columnTypes[e]=(0,a.e)(this,tR).int16();return l},tF=function(e,t,n){return(0,a.e)(this,tR).setBuffer(e,n),new eJ(t,(0,a.e)(this,tR).int32(),(0,a.e)(this,tR).cstring(),(0,a.e)(this,tR).cstring())},tx=function(e,t,n){(0,a.e)(this,tR).setBuffer(e,n);let i=(0,a.e)(this,tR).int16(),s=new eH(t,i);for(let e=0;e<i;e++)s.fields[e]=(0,a.h)(this,tC,tk).call(this);return s},tk=function(){return new eB((0,a.e)(this,tR).cstring(),(0,a.e)(this,tR).int32(),(0,a.e)(this,tR).int16(),(0,a.e)(this,tR).int32(),(0,a.e)(this,tR).int16(),(0,a.e)(this,tR).int32(),0===(0,a.e)(this,tR).int16()?tm.text:tm.binary)},tq=function(e,t,n){(0,a.e)(this,tR).setBuffer(e,n);let i=(0,a.e)(this,tR).int16(),s=new eV(t,i);for(let e=0;e<i;e++)s.dataTypeIDs[e]=(0,a.e)(this,tR).int32();return s},tj=function(e,t,n){(0,a.e)(this,tR).setBuffer(e,n);let i=(0,a.e)(this,tR).int16(),s=Array(i);for(let e=0;e<i;e++){let t=(0,a.e)(this,tR).int32();s[e]=-1===t?null:(0,a.e)(this,tR).string(t)}return new eZ(t,s)},tz=function(e,t,n){return(0,a.e)(this,tR).setBuffer(e,n),new eY(t,(0,a.e)(this,tR).cstring(),(0,a.e)(this,tR).cstring())},tG=function(e,t,n){return(0,a.e)(this,tR).setBuffer(e,n),new eX(t,(0,a.e)(this,tR).int32(),(0,a.e)(this,tR).int32())},tW=function(e,t,n){(0,a.e)(this,tR).setBuffer(e,n);let i=(0,a.e)(this,tR).int32();switch(i){case 0:return new e$(t);case 3:return new eF(t);case 5:return new ex(t,(0,a.e)(this,tR).bytes(4));case 10:{let e=[];for(;;){let n=(0,a.e)(this,tR).cstring();if(0===n.length)return new ek(t,e);e.push(n)}}case 11:return new eq(t,(0,a.e)(this,tR).string(t-8));case 12:return new ej(t,(0,a.e)(this,tR).string(t-8));default:throw Error("Unknown authenticationOk message type "+i)}},tB=function(e,t,n,i){(0,a.e)(this,tR).setBuffer(e,n);let s={},o=(0,a.e)(this,tR).string(1);for(;"\x00"!==o;)s[o]=(0,a.e)(this,tR).cstring(),o=(0,a.e)(this,tR).string(1);let l=s.M,c="notice"===i?new e0(t,l):new ez(l,t,i);return c.severity=s.S,c.code=s.C,c.detail=s.D,c.hint=s.H,c.position=s.P,c.internalPosition=s.p,c.internalQuery=s.q,c.where=s.W,c.schema=s.s,c.table=s.t,c.column=s.c,c.dataType=s.d,c.constraint=s.n,c.file=s.F,c.line=s.L,c.routine=s.R,c},(0,a.j)();var tY,tX="object"==typeof s&&"object"==typeof s.versions&&"string"==typeof s.versions.node;async function tJ(){if(tX||tY)return;let e=new n.U(n(65490));tY=fetch(e)}async function tK(e,t){if(t||i)return{instance:await WebAssembly.instantiate(t||i,e),module:t||i};let a=new n.U(n(65490));if(tX){let t=await (await n.e(2231).then(n.t.bind(n,32231,19))).readFile(a),{module:s,instance:o}=await WebAssembly.instantiate(t,e);return i=s,{instance:o,module:s}}{tY||(tY=fetch(a));let t=await tY,{module:n,instance:s}=await WebAssembly.instantiateStreaming(t,e);return i=n,{instance:s,module:n}}}async function tQ(){let e=new n.U(n(62544));return tX?(await (await n.e(2231).then(n.t.bind(n,32231,19))).readFile(e)).buffer:(await fetch(e)).arrayBuffer()}var tZ=()=>{if(globalThis.crypto?.randomUUID)return globalThis.crypto.randomUUID();let e=new Uint8Array(16);if(globalThis.crypto?.getRandomValues)globalThis.crypto.getRandomValues(e);else for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=[];return e.forEach(e=>{t.push(e.toString(16).padStart(2,"0"))}),t.slice(0,4).join("")+"-"+t.slice(4,6).join("")+"-"+t.slice(6,8).join("")+"-"+t.slice(8,10).join("")+"-"+t.slice(10).join("")};async function t0(e,t,n,i){let a;if(!n||0===n.length)return t;i=i??e;try{await e.execProtocol(ty.parse({text:t}),{syncToFs:!1}),a=eI((await e.execProtocol(ty.describe({type:"S"}),{syncToFs:!1})).messages)}finally{await e.execProtocol(ty.sync(),{syncToFs:!1})}let s=t.replace(/\$([0-9]+)/g,(e,t)=>"%"+t+"L");return(await i.query(`SELECT format($1, ${n.map((e,t)=>`$${t+2}`).join(", ")}) as query`,[s,...n],{paramTypes:[m,...a]})).rows[0].query}function t1(e){let t,n=!1,i=async()=>{if(!t){n=!1;return}n=!0;let{args:a,resolve:s,reject:o}=t;t=void 0;try{let t=await e(...a);s(t)}catch(e){o(e)}finally{i()}};return async(...e)=>{t&&t.resolve(void 0);let a=new Promise((n,i)=>{t={args:e,resolve:n,reject:i}});return n||i(),a}}function t2(e){return e.startsWith('"')&&e.endsWith('"')?e.substring(1,e.length-1):e.toLowerCase()}},2603:function(e,t,n){n.d(t,{d:function(){return s}}),(0,n(19e3).j)();var i={part:"part",container:"container"};function a(e,t,...n){let i=e.length-1,s=n.length-1;if(-1!==s){if(0===s){e[i]=e[i]+n[0]+t;return}e[i]=e[i]+n[0],e.push(...n.slice(1,s)),e.push(n[s]+t)}}function s(e,...t){let{strings:n,values:o}=function(e,...t){let n=[e[0]];n.raw=[e.raw[0]];let s=[];for(let o=0;o<t.length;o++){let l=t[o],c=o+1;if(l?._templateType===i.part){a(n,e[c],l.str),a(n.raw,e.raw[c],l.str);continue}if(l?._templateType===i.container){a(n,e[c],...l.strings),a(n.raw,e.raw[c],...l.strings.raw),s.push(...l.values);continue}n.push(e[c]),n.raw.push(e.raw[c]),s.push(l)}return{_templateType:"container",strings:n,values:s}}(e,...t);return{query:[n[0],...o.flatMap((e,t)=>[`$${t+1}`,n[t+1]])].join(""),params:o}}},83450:function(e,t,n){n.d(t,{a:function(){return h},b:function(){return y},c:function(){return S},d:function(){return A},e:function(){return v},f:function(){return I},g:function(){return R}});var i=n(19e3),a=n(83454),s=(0,i.a)((e,t)=>{(0,i.j)();var n=void 0;function a(e){return"string"==typeof e||"[object String]"==Object.prototype.toString.call(e)}function s(e){return null!==e&&"object"==typeof e}function o(e){return"function"==typeof e}function l(e){var t;return s(e)&&!o(e)&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991}function c(e){return"[object ArrayBuffer]"==Object.prototype.toString.call(e)}t.exports.MAX_SAFE_INTEGER=9007199254740991,t.exports.isUndefined=function(e){return e===n},t.exports.isString=a,t.exports.isObject=s,t.exports.isDateTime=function(e){return"[object Date]"==Object.prototype.toString.call(e)},t.exports.isFunction=o,t.exports.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},t.exports.isArrayLike=l,t.exports.isArrayBuffer=c,t.exports.map=function(e,t){return Array.prototype.map.call(e,t)},t.exports.find=function(e,t){var i=n;return o(t)&&Array.prototype.every.call(e,function(e,n,a){var s=t(e,n,a);return s&&(i=e),!s}),i},t.exports.extend=function(e){return Object.assign.apply(null,arguments)},t.exports.toUint8Array=function e(t){var n,i,u;if(a(t)){for(i=t.length,u=new Uint8Array(i),n=0;n<i;n++)u[n]=255&t.charCodeAt(n);return u}return c(t)?new Uint8Array(t):s(t)&&c(t.buffer)?new Uint8Array(t.buffer):l(t)?new Uint8Array(t):s(t)&&o(t.toString)?e(t.toString()):new Uint8Array}}),o=(0,i.a)((e,t)=>{(0,i.j)(),t.exports={NULL_CHAR:"\x00",TMAGIC:"ustar\x0000",OLDGNU_MAGIC:"ustar  \x00",REGTYPE:0,LNKTYPE:1,SYMTYPE:2,CHRTYPE:3,BLKTYPE:4,DIRTYPE:5,FIFOTYPE:6,CONTTYPE:7,TSUID:parseInt("4000",8),TSGID:parseInt("2000",8),TSVTX:parseInt("1000",8),TUREAD:parseInt("0400",8),TUWRITE:parseInt("0200",8),TUEXEC:parseInt("0100",8),TGREAD:parseInt("0040",8),TGWRITE:parseInt("0020",8),TGEXEC:parseInt("0010",8),TOREAD:parseInt("0004",8),TOWRITE:parseInt("0002",8),TOEXEC:parseInt("0001",8),TPERMALL:parseInt("0777",8),TPERMMASK:parseInt("0777",8)}}),l=(0,i.a)((e,t)=>{(0,i.j)();var n,a=s(),l=o(),c=l.TPERMALL,u=[["name",100,0,function(e,t){return f(e[t[0]],t[1])},function(e,t,n){return y(e.slice(t,t+n[1]))}],["mode",8,100,function(e,t){var n=e[t[0]]||c;return d(n&=l.TPERMMASK,t[1],c)},function(e,t,n){return m(e.slice(t,t+n[1]))&l.TPERMMASK}],["uid",8,108,function(e,t){return d(e[t[0]],t[1],0)},function(e,t,n){return m(e.slice(t,t+n[1]))}],["gid",8,116,function(e,t){return d(e[t[0]],t[1],0)},function(e,t,n){return m(e.slice(t,t+n[1]))}],["size",12,124,function(e,t){return d(e.data.length,t[1])},function(e,t,n){return m(e.slice(t,t+n[1]))}],["modifyTime",12,136,function(e,t){return p(e[t[0]],t[1])},function(e,t,n){return w(e.slice(t,t+n[1]))}],["checksum",8,148,function(e,t){return"        "},function(e,t,n){return m(e.slice(t,t+n[1]))}],["type",1,156,function(e,t){return""+(parseInt(e[t[0]],10)||0)%8},function(e,t,n){return(parseInt(String.fromCharCode(e[t]),10)||0)%8}],["linkName",100,157,function(e,t){return""},function(e,t,n){return y(e.slice(t,t+n[1]))}],["ustar",8,257,function(e,t){return l.TMAGIC},function(e,t,n){return function(e){if(8==e.length){var t=e.split("");if(t[5]==l.NULL_CHAR)return(" "==t[6]||t[6]==l.NULL_CHAR)&&(t[6]="0"),(" "==t[7]||t[7]==l.NULL_CHAR)&&(t[7]="0"),(t=t.join(""))==l.TMAGIC?t:e;if(t[7]==l.NULL_CHAR)return t[5]==l.NULL_CHAR&&(t[5]=" "),t[6]==l.NULL_CHAR&&(t[6]=" "),t==l.OLDGNU_MAGIC?t:e}return e}(y(e.slice(t,t+n[1]),!0))},function(e,t){return e[t[0]]==l.TMAGIC||e[t[0]]==l.OLDGNU_MAGIC}],["owner",32,265,function(e,t){return f(e[t[0]],t[1])},function(e,t,n){return y(e.slice(t,t+n[1]))}],["group",32,297,function(e,t){return f(e[t[0]],t[1])},function(e,t,n){return y(e.slice(t,t+n[1]))}],["majorNumber",8,329,function(e,t){return""},function(e,t,n){return m(e.slice(t,t+n[1]))}],["minorNumber",8,337,function(e,t){return""},function(e,t,n){return m(e.slice(t,t+n[1]))}],["prefix",131,345,function(e,t){return f(e[t[0]],t[1])},function(e,t,n){return y(e.slice(t,t+n[1]))}],["accessTime",12,476,function(e,t){return p(e[t[0]],t[1])},function(e,t,n){return w(e.slice(t,t+n[1]))}],["createTime",12,488,function(e,t){return p(e[t[0]],t[1])},function(e,t,n){return w(e.slice(t,t+n[1]))}]],h=(n=u[u.length-1])[2]+n[1];function f(e,t){return t-=1,a.isUndefined(e)&&(e=""),(e=(""+e).substr(0,t))+l.NULL_CHAR}function d(e,t,n){for(n=parseInt(n)||0,t-=1,e=(parseInt(e)||n).toString(8).substr(-t,t);e.length<t;)e="0"+e;return e+l.NULL_CHAR}function p(e,t){if(a.isDateTime(e))e=Math.floor(1*e/1e3);else if(isFinite(e=parseInt(e,10))){if(e<=0)return""}else e=Math.floor(1*new Date/1e3);return d(e,t,0)}function y(e,t){var n=String.fromCharCode.apply(null,e);if(t)return n;var i=n.indexOf(l.NULL_CHAR);return i>=0?n.substr(0,i):n}function m(e){return parseInt(String.fromCharCode.apply(null,e).replace(/^0+$/g,""),8)||0}function w(e){return 0==e.length||0==e[0]?null:new Date(1e3*m(e))}t.exports.recordSize=512,t.exports.defaultFileMode=c,t.exports.defaultUid=0,t.exports.defaultGid=0,t.exports.posixHeader=u,t.exports.effectiveHeaderSize=h,t.exports.calculateChecksum=function(e,t,n){var i=parseInt(t,10)||0,a=Math.min(i+h,e.length),s=0,o=0,l=0;n&&u.every(function(e){return"checksum"!=e[0]||(l=(o=i+e[2])+e[1],!1)});for(var c=i;c<a;c++)s=(s+(c>=o&&c<l?32:e[c]))%262144;return s},t.exports.formatTarString=f,t.exports.formatTarNumber=d,t.exports.formatTarDateTime=p,t.exports.parseTarString=y,t.exports.parseTarNumber=m,t.exports.parseTarDateTime=w}),c=(0,i.a)((e,t)=>{(0,i.j)();var n=o(),a=s(),c=l();function u(e){return c.recordSize}function h(e){return Math.ceil(e.data.length/c.recordSize)*c.recordSize}t.exports.tar=function(e){e=a.map(e,function(e){return a.extend({},e,{data:a.toUint8Array(e.data)})});var t,i=(t=0,e.forEach(function(e){t+=u(e)+h(e)}),t+=2*c.recordSize,new Uint8Array(t)),s=0;return e.forEach(function(e){var t;t=parseInt(t=s=function(e,t,i){var s=i=parseInt(i)||0;c.posixHeader.forEach(function(n){for(var i=n[3](t,n),a=i.length,o=0;o<a;o+=1)e[s+o]=255&i.charCodeAt(o);s+=n[1]});var o=a.find(c.posixHeader,function(e){return"checksum"==e[0]});if(o){var l=c.calculateChecksum(e,i,!0),h=c.formatTarNumber(l,o[1]-2)+n.NULL_CHAR+" ";s=i+o[2];for(var f=0;f<h.length;f+=1)e[s]=255&h.charCodeAt(f),s++}return i+u(t)}(i,e,s),10)||0,i.set(e.data,t),s=t+h(e)}),i}}),u=(0,i.a)((e,t)=>{(0,i.j)();var n=o(),a=s(),c=l(),u={extractData:!0,checkHeader:!0,checkChecksum:!0,checkFileSize:!0},h={size:!0,checksum:!0,ustar:!0},f={unexpectedEndOfFile:"Unexpected end of file.",fileCorrupted:"File is corrupted.",checksumCheckFailed:"Checksum check failed."};t.exports.untar=function(e,t){t=a.extend({},u,t);for(var i=[],s=0,o=e.length;o-s>=c.recordSize;){var l,d,p=function(e,t,n){if(e.length-t<c.recordSize){if(n.checkFileSize)throw Error(f.unexpectedEndOfFile);return null}t=parseInt(t)||0;var i={},s=t;if(c.posixHeader.forEach(function(t){i[t[0]]=t[4](e,s,t),s+=t[1]}),0!=i.type&&(i.size=0),n.checkHeader&&c.posixHeader.forEach(function(e){if(a.isFunction(e[5])&&!e[5](i,e)){var n=Error(f.fileCorrupted);throw n.data={offset:t+e[2],field:e[0]},n}}),n.checkChecksum){var o=c.calculateChecksum(e,t,!0);if(o!=i.checksum){var l=Error(f.checksumCheckFailed);throw l.data={offset:t,header:i,checksum:o},l}}return i}(e=a.toUint8Array(e),s,t);if(!p)break;s+=c.recordSize;var y=(l=e,d=s,t.extractData?p.size<=0?new Uint8Array:l.slice(d,d+p.size):null);if(i.push(function(e,t){var i={};return c.posixHeader.forEach(function(t){var n=t[0];h[n]||(i[n]=e[n])}),i.isOldGNUFormat=e.ustar==n.OLDGNU_MAGIC,t&&(i.data=t),i}(p,y)),function(e,t){for(var n=Math.min(e.length,t+2*c.recordSize),i=t;i<n;i++)if(0!=e[i])return!1;return!0}(e,s+=Math.ceil(p.size/c.recordSize)*c.recordSize))break}return i}}),h=(0,i.a)((e,t)=>{(0,i.j)();var n=s(),a=o(),l=c(),h=u();n.extend(t.exports,l,h,a)});(0,i.j)(),(0,i.j)();var f=(0,i.c)(h(),1);async function d(e,t,n="pgdata",i="auto"){var a,s;let o,l,c;let u=(a=e,s=t,c=(o=[],(l=e=>{a.readdir(e).forEach(t=>{if("."===t||".."===t)return;let n=e+"/"+t,i=a.stat(n),c=a.isFile(i.mode)?a.readFile(n,{encoding:"binary"}):new Uint8Array(0);o.push({name:n.substring(s.length),mode:i.mode,size:i.size,type:a.isFile(i.mode)?f.REGTYPE:f.DIRTYPE,modifyTime:i.mtime,data:c}),a.isDir(i.mode)&&l(n)})})(s),o),(0,f.tar)(c)),[h,d]=await m(u,i),p=d?"application/x-gzip":"application/x-tar";return"u">typeof File?new File([h],n+(d?".tar.gz":".tar"),{type:p}):new Blob([h],{type:p})}var p=["application/x-gtar","application/x-tar+gzip","application/x-gzip","application/gzip"];async function y(e,t,n){let i,a=new Uint8Array(await t.arrayBuffer()),s="u">typeof File&&t instanceof File?t.name:void 0;(p.includes(t.type)||s?.endsWith(".tgz")||s?.endsWith(".tar.gz"))&&(a=await _(a));try{i=(0,f.untar)(a)}catch(e){if(e instanceof Error&&e.message.includes("File is corrupted"))a=await _(a),i=(0,f.untar)(a);else throw e}for(let t of i){let i=n+t.name,a=i.split("/").slice(0,-1);for(let t=1;t<=a.length;t++){let n=a.slice(0,t).join("/");e.analyzePath(n).exists||e.mkdir(n)}t.type===f.REGTYPE?(e.writeFile(i,t.data),e.utime(i,b(t.modifyTime),b(t.modifyTime))):t.type===f.DIRTYPE&&e.mkdir(i)}}async function m(e,t="auto"){if("none"===t)return[e,!1];if("u">typeof CompressionStream)return[await w(e),!0];if("u">typeof a&&a.versions&&a.versions.node)return[await E(e),!0];if("auto"===t)return[e,!1];throw Error("Compression not supported in this environment")}async function w(e){let t=new CompressionStream("gzip"),n=t.writable.getWriter(),i=t.readable.getReader();n.write(e),n.close();let a=[];for(;;){let{value:e,done:t}=await i.read();if(t)break;e&&a.push(e)}let s=new Uint8Array(a.reduce((e,t)=>e+t.length,0)),o=0;return a.forEach(e=>{s.set(e,o),o+=e.length}),s}async function E(e){let{promisify:t}=await n.e(5203).then(n.t.bind(n,5203,19)),{gzip:i}=await n.e(2391).then(n.t.bind(n,92391,19));return await t(i)(e)}async function _(e){if("u">typeof CompressionStream)return await g(e);if("u">typeof a&&a.versions&&a.versions.node)return await T(e);throw Error("Unsupported environment for decompression")}async function g(e){let t=new DecompressionStream("gzip"),n=t.writable.getWriter(),i=t.readable.getReader();n.write(e),n.close();let a=[];for(;;){let{value:e,done:t}=await i.read();if(t)break;e&&a.push(e)}let s=new Uint8Array(a.reduce((e,t)=>e+t.length,0)),o=0;return a.forEach(e=>{s.set(e,o),o+=e.length}),s}async function T(e){let{promisify:t}=await n.e(5203).then(n.t.bind(n,5203,19)),{gunzip:i}=await n.e(2391).then(n.t.bind(n,92391,19));return await t(i)(e)}function b(e){return e?"number"==typeof e?e:Math.floor(e.getTime()/1e3):Math.floor(Date.now()/1e3)}var S="/tmp/pglite",A=S+"/base",v=class{constructor(e){this.dataDir=e}async init(e,t){return this.pg=e,{emscriptenOpts:t}}async syncToFs(e){}async initialSyncFs(){}async closeFs(){}async dumpTar(e,t){return d(this.pg.Module.FS,A,e,t)}},I=class{constructor(e,{debug:t=!1}={}){this.dataDir=e,this.debug=t}async syncToFs(e){}async initialSyncFs(){}async closeFs(){}async dumpTar(e,t){return d(this.pg.Module.FS,A,e,t)}async init(e,t){return this.pg=e,{emscriptenOpts:{...t,preRun:[...t.preRun||[],e=>{let t=C(e,this);e.FS.mkdir(A),e.FS.mount(t,{},A)}]}}}},R={EBADF:8,EBADFD:127,EEXIST:20,EINVAL:28,EISDIR:31,ENODEV:43,ENOENT:44,ENOTDIR:54,ENOTEMPTY:55},C=(e,t)=>{let n=e.FS,i=t.debug?console.log:null,a={tryFSOperation(e){try{return e()}catch(e){throw e.code?new n.ErrnoError("UNKNOWN"===e.code?R.EINVAL:e.code):e}},mount:e=>a.createNode(null,"/",16895,0),syncfs(e,t,n){},createNode(e,t,i,s){if(!n.isDir(i)&&!n.isFile(i))throw new n.ErrnoError(28);let o=n.createNode(e,t,i);return o.node_ops=a.node_ops,o.stream_ops=a.stream_ops,o},getMode:function(e){return i?.("getMode",e),a.tryFSOperation(()=>t.lstat(e).mode)},realPath:function(e){let t=[];for(;e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),t.join("/")},node_ops:{getattr(e){i?.("getattr",a.realPath(e));let n=a.realPath(e);return a.tryFSOperation(()=>{let i=t.lstat(n);return{...i,dev:0,ino:e.id,nlink:1,rdev:e.rdev,atime:new Date(i.atime),mtime:new Date(i.mtime),ctime:new Date(i.ctime)}})},setattr(e,n){i?.("setattr",a.realPath(e),n);let s=a.realPath(e);a.tryFSOperation(()=>{void 0!==n.mode&&t.chmod(s,n.mode),void 0!==n.size&&t.truncate(s,n.size),void 0!==n.timestamp&&t.utimes(s,n.timestamp,n.timestamp),void 0!==n.size&&t.truncate(s,n.size)})},lookup(e,t){i?.("lookup",a.realPath(e),t);let n=[a.realPath(e),t].join("/"),s=a.getMode(n);return a.createNode(e,t,s)},mknod(e,s,o,l){i?.("mknod",a.realPath(e),s,o,l);let c=a.createNode(e,s,o,l),u=a.realPath(c);return a.tryFSOperation(()=>(n.isDir(c.mode)?t.mkdir(u,{mode:o}):t.writeFile(u,"",{mode:o}),c))},rename(e,n,s){i?.("rename",a.realPath(e),a.realPath(n),s);let o=a.realPath(e),l=[a.realPath(n),s].join("/");a.tryFSOperation(()=>{t.rename(o,l)}),e.name=s},unlink(e,n){i?.("unlink",a.realPath(e),n);let s=[a.realPath(e),n].join("/");try{t.unlink(s)}catch{}},rmdir(e,n){i?.("rmdir",a.realPath(e),n);let s=[a.realPath(e),n].join("/");return a.tryFSOperation(()=>{t.rmdir(s)})},readdir(e){i?.("readdir",a.realPath(e));let n=a.realPath(e);return a.tryFSOperation(()=>t.readdir(n))},symlink(e,t,s){throw i?.("symlink",a.realPath(e),t,s),new n.ErrnoError(63)},readlink(e){throw i?.("readlink",a.realPath(e)),new n.ErrnoError(63)}},stream_ops:{open(e){i?.("open stream",a.realPath(e.node));let s=a.realPath(e.node);return a.tryFSOperation(()=>{n.isFile(e.node.mode)&&(e.shared.refcount=1,e.nfd=t.open(s))})},close:e=>(i?.("close stream",a.realPath(e.node)),a.tryFSOperation(()=>{n.isFile(e.node.mode)&&e.nfd&&0==--e.shared.refcount&&t.close(e.nfd)})),dup(e){i?.("dup stream",a.realPath(e.node)),e.shared.refcount++},read:(e,n,s,o,l)=>(i?.("read stream",a.realPath(e.node),s,o,l),0===o?0:a.tryFSOperation(()=>t.read(e.nfd,n,s,o,l))),write:(e,n,s,o,l)=>(i?.("write stream",a.realPath(e.node),s,o,l),a.tryFSOperation(()=>t.write(e.nfd,n.buffer,s,o,l))),llseek(e,s,o){i?.("llseek stream",a.realPath(e.node),s,o);let l=s;if(1===o?l+=e.position:2===o&&n.isFile(e.node.mode)&&a.tryFSOperation(()=>{let n=t.fstat(e.nfd);l+=n.size}),l<0)throw new n.ErrnoError(28);return l},mmap(t,s,o,l,c){if(i?.("mmap stream",a.realPath(t.node),s,o,l,c),!n.isFile(t.node.mode))throw new n.ErrnoError(R.ENODEV);let u=e.mmapAlloc(s);return a.stream_ops.read(t,e.HEAP8,u,s,o),{ptr:u,allocated:!0}},msync:(e,t,n,s,o)=>(i?.("msync stream",a.realPath(e.node),n,s,o),a.stream_ops.write(e,t,0,s,n),0)}};return a}},25905:function(e,t,n){n.d(t,{a:function(){return a}});var i=n(49962);(0,n(19e3).j)();var a={name:"Live Queries",setup:async(e,t)=>{let n=new Set,a={async query(t,a,c){let u,h,f;if("string"!=typeof t&&(u=t.signal,a=t.params,c=t.callback,h=t.offset,f=t.limit,t=t.query),void 0===h!=(void 0===f))throw Error("offset and limit must be provided together");let d=void 0!==h&&void 0!==f,p;if(d&&("number"!=typeof h||isNaN(h)||"number"!=typeof f||isNaN(f)))throw Error("offset and limit must be numbers");let y=c?[c]:[],m=(0,i.u)().replace(/-/g,""),w=!1,E,_,g,T=async()=>{await e.transaction(async l=>{let c=a&&a.length>0?await (0,i.v)(e,t,a,l):t;await l.exec(`CREATE OR REPLACE TEMP VIEW live_query_${m}_view AS ${c}`),_=await s(l,`live_query_${m}_view`),await o(l,_,n),d?(await l.exec(`
              PREPARE live_query_${m}_get(int, int) AS
              SELECT * FROM live_query_${m}_view
              LIMIT $1 OFFSET $2;
            `),await l.exec(`
              PREPARE live_query_${m}_get_total_count AS
              SELECT COUNT(*) FROM live_query_${m}_view;
            `),p=(await l.query(`EXECUTE live_query_${m}_get_total_count;`)).rows[0].count,E={...await l.query(`EXECUTE live_query_${m}_get(${f}, ${h});`),offset:h,limit:f,totalCount:p}):(await l.exec(`
              PREPARE live_query_${m}_get AS
              SELECT * FROM live_query_${m}_view;
            `),E=await l.query(`EXECUTE live_query_${m}_get;`)),g=await Promise.all(_.map(e=>l.listen(`"table_change__${e.schema_name}__${e.table_name}"`,async()=>{b()})))})};await T();let b=(0,i.w)(async({offset:t,limit:n}={})=>{if(!d&&(void 0!==t||void 0!==n))throw Error("offset and limit cannot be provided for non-windowed queries");if(t&&("number"!=typeof t||isNaN(t))||n&&("number"!=typeof n||isNaN(n)))throw Error("offset and limit must be numbers");h=t??h,f=n??f;let i=async(t=0)=>{if(0!==y.length){try{E=d?{...await e.query(`EXECUTE live_query_${m}_get(${f}, ${h});`),offset:h,limit:f,totalCount:p}:await e.query(`EXECUTE live_query_${m}_get;`)}catch(n){let e=n.message;if(e.startsWith(`prepared statement "live_query_${m}`)&&e.endsWith("does not exist")){if(t>5)throw n;await T(),i(t+1)}else throw n}if(l(y,E),d){let t=(await e.query(`EXECUTE live_query_${m}_get_total_count;`)).rows[0].count;t!==p&&(p=t,b())}}};await i()}),S=async t=>{0!==(y=t?y.filter(e=>e!=e):[]).length||w||(w=!0,await e.transaction(async e=>{await Promise.all(g.map(t=>t(e))),await e.exec(`
              DROP VIEW IF EXISTS live_query_${m}_view;
              DEALLOCATE live_query_${m}_get;
            `)}))};return u?.aborted?await S():u?.addEventListener("abort",()=>{S()},{once:!0}),l(y,E),{initialResults:E,subscribe:e=>{if(w)throw Error("Live query is no longer active and cannot be subscribed to");y.push(e)},unsubscribe:S,refresh:b}},async changes(t,a,l,u){let h;if("string"!=typeof t&&(h=t.signal,a=t.params,l=t.key,u=t.callback,t=t.query),!l)throw Error("key is required for changes queries");let f=u?[u]:[],d=(0,i.u)().replace(/-/g,""),p=!1,y,m=1,w,E,_=async()=>{await e.transaction(async c=>{let u=await (0,i.v)(e,t,a,c);await c.query(`CREATE OR REPLACE TEMP VIEW live_query_${d}_view AS ${u}`),y=await s(c,`live_query_${d}_view`),await o(c,y,n);let h=[...(await c.query(`
                SELECT column_name, data_type, udt_name
                FROM information_schema.columns 
                WHERE table_name = 'live_query_${d}_view'
              `)).rows,{column_name:"__after__",data_type:"integer"}];for(let e of(await c.exec(`
            CREATE TEMP TABLE live_query_${d}_state1 (LIKE live_query_${d}_view INCLUDING ALL);
            CREATE TEMP TABLE live_query_${d}_state2 (LIKE live_query_${d}_view INCLUDING ALL);
          `),[1,2])){let t=1===e?2:1;await c.exec(`
              PREPARE live_query_${d}_diff${e} AS
              WITH
                prev AS (SELECT LAG("${l}") OVER () as __after__, * FROM live_query_${d}_state${t}),
                curr AS (SELECT LAG("${l}") OVER () as __after__, * FROM live_query_${d}_state${e}),
                data_diff AS (
                  -- INSERT operations: Include all columns
                  SELECT 
                    'INSERT' AS __op__,
                    ${h.map(({column_name:e})=>`curr."${e}" AS "${e}"`).join(`,
`)},
                    ARRAY[]::text[] AS __changed_columns__
                  FROM curr
                  LEFT JOIN prev ON curr.${l} = prev.${l}
                  WHERE prev.${l} IS NULL
                UNION ALL
                  -- DELETE operations: Include only the primary key
                  SELECT 
                    'DELETE' AS __op__,
                    ${h.map(({column_name:e,data_type:t,udt_name:n})=>e===l?`prev."${e}" AS "${e}"`:`NULL${"USER-DEFINED"===t?`::${n}`:""} AS "${e}"`).join(`,
`)},
                      ARRAY[]::text[] AS __changed_columns__
                  FROM prev
                  LEFT JOIN curr ON prev.${l} = curr.${l}
                  WHERE curr.${l} IS NULL
                UNION ALL
                  -- UPDATE operations: Include only changed columns
                  SELECT 
                    'UPDATE' AS __op__,
                    ${h.map(({column_name:e,data_type:t,udt_name:n})=>e===l?`curr."${e}" AS "${e}"`:`CASE 
                              WHEN curr."${e}" IS DISTINCT FROM prev."${e}" 
                              THEN curr."${e}"
                              ELSE NULL${"USER-DEFINED"===t?`::${n}`:""}
                              END AS "${e}"`).join(`,
`)},
                      ARRAY(SELECT unnest FROM unnest(ARRAY[${h.filter(({column_name:e})=>e!==l).map(({column_name:e})=>`CASE
                              WHEN curr."${e}" IS DISTINCT FROM prev."${e}" 
                              THEN '${e}' 
                              ELSE NULL 
                              END`).join(", ")}]) WHERE unnest IS NOT NULL) AS __changed_columns__
                  FROM curr
                  INNER JOIN prev ON curr.${l} = prev.${l}
                  WHERE NOT (curr IS NOT DISTINCT FROM prev)
                )
              SELECT * FROM data_diff;
            `)}E=await Promise.all(y.map(e=>c.listen(`"table_change__${e.schema_name}__${e.table_name}"`,async()=>{g()})))})};await _();let g=(0,i.w)(async()=>{if(0===f.length&&w)return;let t=!1;for(let n=0;n<5;n++)try{await e.transaction(async e=>{await e.exec(`
                INSERT INTO live_query_${d}_state${m} 
                  SELECT * FROM live_query_${d}_view;
              `),w=await e.query(`EXECUTE live_query_${d}_diff${m};`),m=1===m?2:1,await e.exec(`
                TRUNCATE live_query_${d}_state${m};
              `)});break}catch(e){if(e.message===`relation "live_query_${d}_state${m}" does not exist`){t=!0,await _();continue}throw e}c(f,[...t?[{__op__:"RESET"}]:[],...w.rows])}),T=async t=>{0!==(f=t?f.filter(e=>e!=e):[]).length||p||(p=!0,await e.transaction(async e=>{await Promise.all(E.map(t=>t(e))),await e.exec(`
              DROP VIEW IF EXISTS live_query_${d}_view;
              DROP TABLE IF EXISTS live_query_${d}_state1;
              DROP TABLE IF EXISTS live_query_${d}_state2;
              DEALLOCATE live_query_${d}_diff1;
              DEALLOCATE live_query_${d}_diff2;
            `)}))};return h?.aborted?await T():h?.addEventListener("abort",()=>{T()},{once:!0}),await g(),{fields:w.fields.filter(e=>!["__after__","__op__","__changed_columns__"].includes(e.name)),initialChanges:w.rows,subscribe:e=>{if(p)throw Error("Live query is no longer active and cannot be subscribed to");f.push(e)},unsubscribe:T,refresh:g}},async incrementalQuery(e,t,n,i){let s;if("string"!=typeof e&&(s=e.signal,t=e.params,n=e.key,i=e.callback,e=e.query),!n)throw Error("key is required for incremental queries");let o=i?[i]:[],c=new Map,u=new Map,h=[],f=!0,{fields:d,unsubscribe:p,refresh:y}=await a.changes(e,t,n,e=>{for(let t of e){let{__op__:e,__changed_columns__:i,...a}=t;switch(e){case"RESET":c.clear(),u.clear();break;case"INSERT":c.set(a[n],a),u.set(a.__after__,a[n]);break;case"DELETE":{let e=c.get(a[n]);c.delete(a[n]),null!==e.__after__&&u.delete(e.__after__);break}case"UPDATE":{let e={...c.get(a[n])??{}};for(let t of i)e[t]=a[t],"__after__"===t&&u.set(a.__after__,a[n]);c.set(a[n],e)}}}let t=[],i=null;for(let e=0;e<c.size;e++){let e=u.get(i),n=c.get(e);if(!n)break;let a={...n};delete a.__after__,t.push(a),i=e}h=t,f||l(o,{rows:t,fields:d})});f=!1,l(o,{rows:h,fields:d});let m=async e=>{0===(o=e?o.filter(e=>e!=e):[]).length&&await p()};return s?.aborted?await m():s?.addEventListener("abort",()=>{m()},{once:!0}),{initialResults:{rows:h,fields:d},subscribe:e=>{o.push(e)},unsubscribe:m,refresh:y}}};return{namespaceObj:a}}};async function s(e,t){return(await e.query(`
      WITH RECURSIVE view_dependencies AS (
        -- Base case: Get the initial view's dependencies
        SELECT DISTINCT
          cl.relname AS dependent_name,
          n.nspname AS schema_name,
          cl.relkind = 'v' AS is_view
        FROM pg_rewrite r
        JOIN pg_depend d ON r.oid = d.objid
        JOIN pg_class cl ON d.refobjid = cl.oid
        JOIN pg_namespace n ON cl.relnamespace = n.oid
        WHERE
          r.ev_class = (
              SELECT oid FROM pg_class WHERE relname = $1 AND relkind = 'v'
          )
          AND d.deptype = 'n'

        UNION ALL

        -- Recursive case: Traverse dependencies for views
        SELECT DISTINCT
          cl.relname AS dependent_name,
          n.nspname AS schema_name,
          cl.relkind = 'v' AS is_view
        FROM view_dependencies vd
        JOIN pg_rewrite r ON vd.dependent_name = (
          SELECT relname FROM pg_class WHERE oid = r.ev_class AND relkind = 'v'
        )
        JOIN pg_depend d ON r.oid = d.objid
        JOIN pg_class cl ON d.refobjid = cl.oid
        JOIN pg_namespace n ON cl.relnamespace = n.oid
        WHERE d.deptype = 'n'
      )
      SELECT DISTINCT
        dependent_name AS table_name,
        schema_name
      FROM view_dependencies
      WHERE NOT is_view; -- Exclude intermediate views
    `,[t])).rows.map(e=>({table_name:e.table_name,schema_name:e.schema_name}))}async function o(e,t,n){let i=t.filter(e=>!n.has(`${e.schema_name}_${e.table_name}`)).map(e=>`
      CREATE OR REPLACE FUNCTION "_notify_${e.schema_name}_${e.table_name}"() RETURNS TRIGGER AS $$
      BEGIN
        PERFORM pg_notify('table_change__${e.schema_name}__${e.table_name}', '');
        RETURN NULL;
      END;
      $$ LANGUAGE plpgsql;
      CREATE OR REPLACE TRIGGER "_notify_trigger_${e.schema_name}_${e.table_name}"
      AFTER INSERT OR UPDATE OR DELETE ON "${e.schema_name}"."${e.table_name}"
      FOR EACH STATEMENT EXECUTE FUNCTION "_notify_${e.schema_name}_${e.table_name}"();
      `).join(`
`);""!==i.trim()&&await e.exec(i),t.map(e=>n.add(`${e.schema_name}_${e.table_name}`))}var l=(e,t)=>{for(let n of e)n(t)},c=(e,t)=>{for(let n of e)n(t)}},40012:function(e,t,n){n.d(t,{x:function(){return i}}),(0,n(19e3).j)();var i={name:"pgvector",setup:async(e,t)=>({emscriptenOpts:t,bundlePath:new n.U(n(97364))})}}}]);