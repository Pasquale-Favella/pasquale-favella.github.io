(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{8907:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/flow",function(){return s(9173)}])},9173:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var a=s(5893),l=s(2962),n=s(9071),r=s(2871),i=s(7294),o=s(9352);s(5131);let c=()=>crypto.getRandomValues(new Uint32Array(1)).toString();var d={uid:c};let x=(0,i.createContext)({nodes:[],edges:[]}),u=e=>{let{nodes:t,edges:s}=e;return(0,a.jsx)(n.tV,{children:(0,a.jsx)(x.Provider,{value:{nodes:t,edges:s},children:e.children})})};function h(){let e=(0,i.useContext)(x),[t,s]=(0,n.Rr)(e.nodes),[a,l]=(0,n.ll)(e.edges),{addNodes:r,deleteElements:o,getViewport:c,project:u}=(0,n._K)(),h=(0,n.AC)(),m=(0,i.useCallback)(e=>l(t=>(0,n.Z_)(e,t)),[l]),g=(0,i.useCallback)(e=>{s(t=>(0,n.Fb)(e,t))},[]),p=(0,i.useCallback)(e=>{l(t=>(0,n.yn)(e,t))},[]),j=()=>{let e=c();r({id:d.uid(),data:{title:"",body:""},position:{x:e.x,y:e.y},type:"custom",className:""})},f=e=>{o({nodes:h.getState().getNodes().filter(t=>t.id===e)})},b=e=>{o({edges:h.getState().edges.filter(t=>t.id===e)})};return{nodes:t,edges:a,onConnect:m,onNodesChange:g,onEdgesChange:p,addNewNode:j,deleteNodeById:f,deleteEdgeById:b}}var m=s(7516);let g={left:15},p={right:15,left:"auto"},j=e=>{let{data:t,xPos:s,yPos:l,id:r}=e,[{title:c,body:d},x]=(0,i.useState)(t),[u,j]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),{deleteNodeById:y}=h(),w=e=>x(t=>({...t,[e.target.name]:e.target.value})),N=()=>y(r),v=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];j(URL.createObjectURL(t))}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.HH,{type:"target",position:n.Ly.Top}),(0,a.jsxs)("div",{className:"card w-96 bg-base-300 shadow-xl relative",children:[(0,a.jsxs)("div",{className:"dropdown dropdown-end absolute top-2 right-1",children:[(0,a.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle normal-case btn-sm",children:(0,a.jsx)(m.T41,{})}),(0,a.jsxs)("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{className:"flex justify-start items-center",children:(0,a.jsxs)("label",{className:"label justify-start gap-2 cursor-pointer w-full",children:[(0,a.jsx)("input",{type:"checkbox",className:"checkbox checkbox-xs",checked:f,onChange:()=>b(e=>!e)}),(0,a.jsx)("span",{className:"label-text text-xs",children:"Add image"})]})})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{className:"flex justify-start items-center",children:(0,a.jsxs)("button",{className:"label justify-start gap-2 cursor-pointer w-full",onClick:N,children:[(0,a.jsx)(o.qy0,{}),(0,a.jsx)("span",{className:"label-text text-xs",children:"Delete flow"})]})})})]})]}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h2",{className:"card-title",children:(0,a.jsx)("input",{name:"title",type:"text",placeholder:"Thought",className:"input input-ghost w-full max-w-xs",value:c,onChange:w})}),(0,a.jsx)("textarea",{name:"body",className:"textarea textarea-ghost",placeholder:"add a note",value:d,onChange:w}),f&&(0,a.jsx)("input",{type:"file",accept:"image/*",className:"file-input file-input-ghost file-input-xs max-w-xs",onChange:v,placeholder:"image to preview"}),f&&u&&(0,a.jsx)("figure",{children:(0,a.jsx)("img",{src:u,alt:"Flow Image"})})]})]}),(0,a.jsx)(n.HH,{type:"source",position:n.Ly.Bottom,id:"a",style:g}),(0,a.jsx)(n.HH,{type:"source",position:n.Ly.Bottom,id:"b",style:p})]})};var f=(0,i.memo)(j);let b=/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i;function y(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=void 0===window.navigator?"":navigator.userAgent,s=Boolean(e.match(b));t(s)},[]),e}var w=s(5960),N=s(3854);let v=()=>{let{addNewNode:e}=h(),t=y(),s=()=>e();return(0,a.jsx)(w.Z,{className:"",position:t?"bottom-left":"top-left",children:(0,a.jsx)(w.B,{onClick:s,title:"add flow",children:(0,a.jsx)(N.gvM,{})})})},k=()=>(0,a.jsx)("div",{className:"h-full flex justify-center items-center z-50",children:(0,a.jsx)("div",{className:"card max-w-max bg-base-300 shadow-xl mx-5",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("h2",{className:"card-title",children:["Flow your ideas ",(0,a.jsx)(N.gvM,{})]}),(0,a.jsx)("p",{children:"Use the controlbar to start your flow"})]})})});var C=s(5434);let _=e=>{let{id:t,sourceX:s,sourceY:l,sourcePosition:r,targetX:i,targetY:o,targetPosition:c,markerEnd:d,style:x}=e,[u,m,g]=(0,n.OQ)({sourceX:s,sourceY:l,sourcePosition:r,targetX:i,targetY:o,targetPosition:c}),{deleteEdgeById:p}=h(),j=(e,t)=>{e.stopPropagation(),p(t)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{id:t,style:x,className:"react-flow__edge-path",d:u,markerEnd:d}),(0,a.jsx)("foreignObject",{width:50,height:80,x:m-40,y:g-25,className:"flex justify-center items-center",requiredExtensions:"http://www.w3.org/1999/xhtml",children:(0,a.jsx)("div",{className:"tooltip tooltip-bottom before:text-xs before:content-[attr(data-tip)]","data-tip":"remove",children:(0,a.jsx)("button",{className:"btn btn-ghost btn-circle normal-case btn-sm text-error",onClick:e=>j(e,t),children:(0,a.jsx)(C.X5F,{})})})})]})};var S=(0,i.memo)(_);let E={custom:f},P={buttonedge:S},F={animated:!0,type:"buttonedge"},T=()=>{let{nodes:e,edges:t,onConnect:s,onEdgesChange:l,onNodesChange:i}=h(),o=y();return(0,a.jsx)("div",{className:"h-[calc(85vh-70px)]",children:(0,a.jsxs)(n.x$,{nodes:e,onNodesChange:i,edges:t,onEdgesChange:l,onConnect:s,nodeTypes:E,edgeTypes:P,defaultEdgeOptions:F,connectionLineType:n.t8.SmoothStep,fitView:!0,children:[!o&&(0,a.jsx)(r.a,{nodeStrokeWidth:3,zoomable:!0,pannable:!0,position:"top-right"}),(0,a.jsx)(v,{}),0===e.length&&(0,a.jsx)(k,{})]})})},B=[],L=[],O=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.PB,{title:"Idea Flow",description:"Pasquale Favella , flow your idea"}),(0,a.jsx)(u,{edges:L,nodes:B,children:(0,a.jsx)(T,{})})]});var A=O},5131:function(e,t,s){"use strict";var a=s(709),l=s(7458),n=s(9557);let r=e=>{let t=new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return t};t.Z={formatDateEN:r,calculateAge:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=(0,l.Z)(a.Z.dob,"dd/MM/yyyy",new Date),t=(0,n.Z)(new Date,e);return t}}}},function(e){e.O(0,[228,556,651,173,864,774,888,179],function(){return e(e.s=8907)}),_N_E=e.O()}]);